(this["webpackJsonprawg-app"]=this["webpackJsonprawg-app"]||[]).push([[0],{41:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},78:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(15),r=a.n(s),i=a(5),l=a(11),o=a(3),u=(a(41),a(4)),d=a(12),b=a(7),j=a.n(b),m=a(9),f=function(){var e=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n,c,s,r,i=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,c=i.length>3&&void 0!==i[3]?i[3]:{"Content-Type":"application/json"},e.prev=3,e.next=6,fetch(t,{method:a,body:n,headers:c});case 6:if((s=e.sent).ok){e.next=9;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(s.status));case 9:return e.next=11,s.json();case 11:return r=e.sent,e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(3),e.t0;case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}();return{request:e}},g=Object(m.b)("games/fetchSeachGames",function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f(),n=a.request,e.next=3,n("https://api.rawg.io/api/games?key=e2f90b4e56164fc6996b2abb0faa856e&search=".concat(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=Object(m.c)({name:"search",initialState:{searchGames:[],searchGamesLoadingStatus:"idle"},reducers:{},extraReducers:function(e){e.addCase(g.pending,(function(e){e.searchGamesLoadingStatus="loading"})).addCase(g.fulfilled,(function(e,t){e.searchGamesLoadingStatus="idle",e.searchGames=t.payload})).addCase(g.rejected,(function(e){e.searchGamesLoadingStatus="error"})).addDefaultCase((function(){}))}}).reducer,O=a(33);a(43);var p=a(1);var x=function(){var e,t=Object(i.b)(),a=Object(n.useState)(""),s=Object(u.a)(a,2),r=s[0],d=s[1],b=function(e,t){var a=c.a.useState(e),n=Object(u.a)(a,2),s=n[0],r=n[1];return c.a.useEffect((function(){var a=setTimeout((function(){r(e)}),t||500);return function(){clearTimeout(a)}}),[e]),s}(r,600),j=Object(n.useState)(!1),m=Object(u.a)(j,2),f=m[0],h=m[1],x=Object(i.c)((function(e){return e.searchGames})),v=x.searchGames,_=x.searchGamesLoadingStatus,N=Object(i.c)((function(e){return e.games})).savedGames,S=N.filter((function(e,t){return N.findIndex((function(t){return e.name===t.name}))===t})),w=Object(o.f)();return Object(n.useEffect)((function(){r.trimStart().length>=1?(h(!0),t(g(r))):h(!1)}),[b]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)(O.a,{}),Object(p.jsx)("input",{value:r,onChange:function(e){return d(e.target.value)},placeholder:"Search...",className:"header__input",type:"text"})]}),Object(p.jsx)("div",{className:"header__dropdown",children:f?"error"===_?Object(p.jsx)("h1",{className:"header__text",children:"error"}):"loading"===_?Object(p.jsx)("h1",{className:"header__text",children:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):(e=v.results,e.length?e.map((function(e){return Object(p.jsxs)("div",{onClick:(t=e.slug,function(){w("game/".concat(t)),h(!1),d("")}),className:"header__dropdown_el",children:[Object(p.jsx)("img",{alt:"Game",className:"header__img",src:e.background_image}),e.name]},e.id+e.rating);var t})):Object(p.jsx)("h1",{className:"header__text",children:"\u0406\u0433\u043e\u0440 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e!"})):null}),Object(p.jsx)(l.b,{to:"/whitelist",className:"link",children:N.length>0?Object(p.jsxs)("button",{className:"btn",children:[S.length," - saved Games"]}):Object(p.jsx)("button",{className:"btn",children:"Whitelist"})})]})})},v=a(21),_=Object(m.b)("games/fetchGamesList",function(){var e=Object(d.a)(j.a.mark((function e(t,a){var n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.getState().games.activeFilter,c=f(),s=c.request,e.next=4,s("https://api.rawg.io/api/games?key=e2f90b4e56164fc6996b2abb0faa856e&genres=".concat(n,"&page_size=").concat(t));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),N=Object(m.c)({name:"games",initialState:{games:[],gamesLoadingStatus:"idle",activeFilter:"action",savedGames:[],oldFilter:"",activeFilterObj:{}},reducers:{changeActiveFilter:function(e,t){e.activeFilter=t.payload},addToWhitelist:function(e,t){e.savedGames=[].concat(Object(v.a)(e.savedGames),[t.payload])},deleteFromWhiteList:function(e,t){e.savedGames=e.savedGames.filter((function(e){return e.id!==t.payload}))},AddOldFilter:function(e,t){e.oldFilter=t.payload},changeActiveFilterObj:function(e,t){e.activeFilterObj=t.payload}},extraReducers:function(e){e.addCase(_.pending,(function(e){e.gamesLoadingStatus="loading"})).addCase(_.fulfilled,(function(e,t){e.gamesLoadingStatus="idle",e.games=t.payload})).addCase(_.rejected,(function(e){e.gamesLoadingStatus="error"})).addDefaultCase((function(){}))}}),S=N.actions,w=N.reducer,k=S.changeActiveFilter,y=S.addToWhitelist,L=S.deleteFromWhiteList,C=S.AddOldFilter,G=S.changeActiveFilterObj,F=a(32);a(45);var A=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.games})),a=t.activeFilterObj,c=t.activeFilter,s=Object(n.useState)((function(){return c?{value:"".concat(a.value),label:"".concat(a.label)}:{value:"action",label:"Action"}})),r=Object(u.a)(s,2),l=r[0],o=r[1];return Object(n.useEffect)((function(){e(k(l.value)),e(G(l))}),[l]),Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("div",{className:"App",children:Object(p.jsx)(F.a,{defaultValue:l,onChange:o,options:[{value:"action",label:"Action"},{value:"adventure",label:"Adventure"},{value:"5",label:"RGP"},{value:"10",label:"Strategy"},{value:"2",label:"Shooter"},{value:"7",label:"Puzzle"},{value:"15",label:"Sport"},{value:"1",label:"Racing"}]})})})};a(60);var E=function(){return Object(p.jsx)("div",{className:"lds-hourglass"})};a(61);var T=function(){var e,t,a=Object(n.useRef)(),c=function(e){var t=Object(n.useState)(2),a=Object(u.a)(t,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){new IntersectionObserver((function(e){Object(u.a)(e,1)[0].isIntersecting&&s((function(e){return e+6}))})).observe(e.current)}),[e]),c}(a),s=Object(i.b)(),r=Object(i.c)((function(e){return e.games})),o=r.games,d=r.gamesLoadingStatus,b=r.activeFilter,j=r.savedGames,m=r.oldFilter;return Object(n.useEffect)((function(){var e;b!==m&&s(C(b)),(!(null!==o&&void 0!==o&&null!==(e=o.results)&&void 0!==e&&e.length)>0||m!==b)&&s(_(40,b))}),[b]),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"gameList",children:[Object(p.jsx)("div",{className:"gameList__games",children:"loading"===d?Object(p.jsx)(E,{}):"error"===d?Object(p.jsx)("h5",{className:"text-center mt-5",children:" \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 "}):(t=null===(e=o.results)||void 0===e?void 0:e.slice(0,c),t?t.map((function(e){return Object(p.jsxs)("div",{className:"gameList__games_block",children:[Object(p.jsx)(l.b,{to:"/game/".concat(e.slug),children:Object(p.jsx)("img",{src:e.background_image,alt:"game"})}),Object(p.jsxs)("p",{className:"gameList__name",children:[" \ud83c\udfae",e.name,"\ud83c\udfae"]}),Object(p.jsxs)("div",{className:"gameList__block",children:[Object(p.jsxs)("p",{className:"gameList__textAleft",children:["\u0413\u043e\u0434 \u0432\u0438\u043f\u0443\u0441\u043a\u0430: ",e.released," ",Object(p.jsx)("br",{}),"\u0416\u0430\u043d\u0440\u0438:",e.genres.slice(0,2).map((function(e){return" ".concat(e.name)}))]}),j.some((function(t){return t.id===e.id}))?Object(p.jsx)("button",{onClick:function(){return s(L(e.id))},className:"gameList__haveWhitelist",children:"\u2705"}):Object(p.jsx)("button",{className:"btn",onClick:function(){var t,a,n,c;t=e.id,a=e.name,n=e.background_image,c=e.slug,s(y({id:t,name:a,backgroundImage:n,slug:c}))},children:"Add to whitelist \u2795"})]})]},e.id)})):Object(p.jsx)("h5",{children:"\u0406\u0433\u0440\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0456, \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0456\u0442\u044c \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443!"}))}),Object(p.jsx)("div",{ref:a})]})})},R=function(){return Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)(A,{}),Object(p.jsx)(T,{})]})},W=a(18),I=Object(m.b)("game/fetchSingleGame",function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f(),n=a.request,e.next=3,n("https://api.rawg.io/api/games/".concat(t,"?key=e2f90b4e56164fc6996b2abb0faa856e"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),q=Object(m.b)("game/fetchScreenshots",function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f(),n=a.request,e.next=3,n("https://api.rawg.io/api/games/".concat(t,"/screenshots?key=e2f90b4e56164fc6996b2abb0faa856e"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(m.b)("game/fetchStores",function(){var e=Object(d.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f(),n=a.request,e.next=3,n("https://api.rawg.io/api/games/".concat(t,"/stores?key=e2f90b4e56164fc6996b2abb0faa856e"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B=Object(m.c)({name:"game",initialState:{game:{},gameLoadingStatus:"idle",screen:[],stores:[]},reducers:{},extraReducers:function(e){e.addCase(I.pending,(function(e){e.gameLoadingStatus="loading"})).addCase(I.fulfilled,(function(e,t){e.gameLoadingStatus="idle",e.game=t.payload})).addCase(I.rejected,(function(e){e.gameLoadingStatus="error"})).addCase(q.pending,(function(e){e.gameLoadingStatus="loading"})).addCase(q.fulfilled,(function(e,t){e.gameLoadingStatus="idle",e.screen=t.payload})).addCase(q.rejected,(function(e){e.gameLoadingStatus="error"})).addCase(z.pending,(function(e){e.gameLoadingStatus="loading"})).addCase(z.fulfilled,(function(e,t){e.gameLoadingStatus="idle",e.stores=t.payload})).addCase(z.rejected,(function(e){e.gameLoadingStatus="error"})).addDefaultCase((function(){}))}}).reducer,D=(a(62),a(29)),P=a.n(D),J=a.p+"static/media/Steam_Logo.c1f14e27.png",K=a.p+"static/media/Epic_Games_logo.svg.5be7536d.png",M=a.p+"static/media/pngwing.com.ca4ce25d.png",V=a.p+"static/media/ps.7d082417.png",H=function(){var e=Object(i.c)((function(e){return e.singleGame})),t=e.game,a=e.gameLoadingStatus,n=e.screen,s=e.stores,r=Object(i.b)(),l=Object(o.f)(),u=Object(o.g)().name;c.a.useEffect((function(){r(I(u)),r(q(u)),r(z(u))}),[u]);return Object(p.jsx)(p.Fragment,{children:"loading"===a?Object(p.jsx)("div",{className:"center-spinner",children:Object(p.jsx)(E,{})}):"error"===a?Object(p.jsx)("h1",{children:"error"}):Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("button",{className:"btn",onClick:function(){return l(-1)},style:{color:"red"},children:"GO BACK"}),Object(p.jsxs)("div",{className:"game",children:[Object(p.jsx)("p",{className:"game__name",children:t.name}),Object(p.jsx)(P.a,Object(W.a)(Object(W.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:n.results?n.results.map((function(e){return Object(p.jsx)("div",{children:Object(p.jsx)("img",{src:e.image,alt:"game__image"})},e.id)})):null})),Object(p.jsxs)("div",{className:"game__info-box",children:[Object(p.jsxs)("div",{className:"game__info-box-left",children:[Object(p.jsxs)("p",{children:["Rating: ",t.rating]}),Object(p.jsxs)("p",{children:["Playtime: ",t.playtime]})]}),Object(p.jsxs)("div",{className:"game__info-box-right",children:[Object(p.jsx)("a",{href:t.website,children:"Website"})," ",Object(p.jsx)("br",{}),Object(p.jsx)("a",{href:t.reddit_url,children:"Reddit"})]})]}),Object(p.jsx)("p",{className:"game__description",children:t.description_raw}),Object(p.jsx)("h3",{children:"Where buy?"}),Object(p.jsx)("div",{className:"game__box-link",children:s.results?s.results.map((function(e){return Object(p.jsx)("a",{className:"game__link",href:e.url,children:Object(p.jsx)("img",{src:1===e.store_id?J:11===e.store_id?K:7===e.store_id?M:3===e.store_id?V:null,alt:""})},e.id)})):null})]})]})})};a(78);var Q=function(){var e,t=Object(i.b)(),a=Object(o.f)(),n=Object(i.c)((function(e){return e.games})).savedGames,c=n.filter((function(e,t){return n.findIndex((function(t){return e.name===t.name}))===t}));return Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("button",{className:"btn",onClick:function(){return a(-1)},style:{color:"red",marginBottom:20},children:"GO BACK \u2b90"}),Object(p.jsx)("div",{className:"whitelist",children:n.length>=1?(e=c,e.map((function(e){return Object(p.jsxs)("div",{className:"whitelist__box",children:[Object(p.jsx)("img",{src:e.backgroundImage,alt:""}),Object(p.jsx)(l.b,{to:"/game/".concat(e.slug),className:"whitelist__box__name",children:e.name}),Object(p.jsx)("button",{className:"btn",onClick:function(){return t(L(e.id))},children:"Delete \u2796"})]},e.id+e.slug)}))):Object(p.jsx)("h1",{className:"check_game",children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u043c\u0430\u0454 \u0456\u0433\u043e\u0440"})})]})},U=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/",element:Object(p.jsx)(R,{})}),Object(p.jsx)(o.a,{path:"/game/:name",element:Object(p.jsx)(H,{})}),Object(p.jsx)(o.a,{path:"/whitelist",element:Object(p.jsx)(Q,{})})]})]})},X=a(8),Y=a(14),Z=a(30),$={key:"root",storage:a.n(Z).a},ee=Object(X.b)({games:w,searchGames:h,singleGame:B}),te=Object(Y.g)($,ee),ae=Object(m.a)({reducer:te,middleware:function(e){return e({serializableCheck:{ignoredActions:[Y.a,Y.f,Y.b,Y.c,Y.d,Y.e]}})},devTools:!1}),ne=Object(Y.h)(ae),ce=ae,se=a(31);a(81);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(i.a,{store:ce,children:Object(p.jsx)(se.a,{loading:null,persistor:ne,children:Object(p.jsx)(l.a,{children:Object(p.jsx)(U,{})})})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.8205eacc.chunk.js.map